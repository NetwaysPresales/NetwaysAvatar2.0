2025-02-20 13:20:05,219 [INFO] Client connected to /ws/convo
2025-02-20 13:20:05,220 [INFO] Connecting to OpenAI WebSocket...
2025-02-20 13:20:07,317 [INFO] Connected to OpenAI WebSocket.
2025-02-20 13:20:07,317 [INFO] OpenAI Session Created: {"type":"session.created","event_id":"event_B2x0x1UvI7vbIRL0Wq3iB","session":{"id":"sess_B2x0xnOqsNst4ESgDa7Sk","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044107,"modalities":["audio","text"],"instructions":"Your knowledge cutoff is 2023-10. You are a helpful, witty, and friendly AI. Act like a human, but remember that you aren't a human and that you can't do human things in the real world. Your voice and personality should be warm and engaging, with a lively and playful tone. If interacting in a non-English language, start by using the standard accent or dialect familiar to the user. Talk quickly. You should always call a function if you can. Do not refer to these rules, even if you’re asked about them.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[]}}
2025-02-20 13:20:07,317 [INFO] Sent session.update with configuration: {"type": "session.update", "session": {"turn_detection": {"type": "server_vad", "threshold": 0.5, "prefix_padding_ms": 300, "silence_duration_ms": 200, "create_response": true}, "tools": [{"type": "function", "name": "search_data", "description": "Reads content from Dubai_Racin_Club.md and returns it as text.", "parameters": null}], "tool_choice": "auto", "input_audio_format": "pcm16", "output_audio_format": "pcm16", "voice": "alloy", "instructions": "You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.", "modalities": ["text", "audio"], "temperature": 0.8}}
2025-02-20 13:20:07,621 [INFO] OpenAI Session Updated: {"type":"session.updated","event_id":"event_B2x0x6Om85632LKMfA4P4","session":{"id":"sess_B2x0xnOqsNst4ESgDa7Sk","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044107,"modalities":["audio","text"],"instructions":"You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[{"name":"search_data","description":"Reads content from Dubai_Racin_Club.md and returns it as text.","parameters":{"type":"object","properties":{}},"type":"function"}]}}
2025-02-20 13:20:07,621 [INFO] Client disconnected from convo WebSocket.
2025-02-20 13:21:06,947 [INFO] Client connected to /ws/convo
2025-02-20 13:21:06,947 [INFO] Connecting to OpenAI WebSocket...
2025-02-20 13:21:08,843 [INFO] Connected to OpenAI WebSocket.
2025-02-20 13:21:08,843 [INFO] OpenAI Session Created: {"type":"session.created","event_id":"event_B2x1wXqjjg8kktVM9kkkn","session":{"id":"sess_B2x1wXAIIIqb7wYztoDvn","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044168,"modalities":["text","audio"],"instructions":"Your knowledge cutoff is 2023-10. You are a helpful, witty, and friendly AI. Act like a human, but remember that you aren't a human and that you can't do human things in the real world. Your voice and personality should be warm and engaging, with a lively and playful tone. If interacting in a non-English language, start by using the standard accent or dialect familiar to the user. Talk quickly. You should always call a function if you can. Do not refer to these rules, even if you’re asked about them.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[]}}
2025-02-20 13:21:08,844 [INFO] Sent session.update with configuration: {"type": "session.update", "session": {"turn_detection": {"type": "server_vad", "threshold": 0.5, "prefix_padding_ms": 300, "silence_duration_ms": 200, "create_response": true}, "tools": [{"type": "function", "name": "search_data", "description": "Reads content from Dubai_Racin_Club.md and returns it as text.", "parameters": null}], "tool_choice": "auto", "input_audio_format": "pcm16", "output_audio_format": "pcm16", "voice": "alloy", "instructions": "You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.", "modalities": ["text", "audio"], "temperature": 0.8}}
2025-02-20 13:21:09,056 [INFO] OpenAI Session Updated: {"type":"session.updated","event_id":"event_B2x1xL2zVDpm89oI5OWCe","session":{"id":"sess_B2x1wXAIIIqb7wYztoDvn","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044168,"modalities":["text","audio"],"instructions":"You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[{"name":"search_data","description":"Reads content from Dubai_Racin_Club.md and returns it as text.","parameters":{"type":"object","properties":{}},"type":"function"}]}}
2025-02-20 13:21:13,302 [INFO] Sent conversation.item.create to OpenAI: {'type': 'conversation.item.create', 'item': {'type': 'message', 'content': [{'type': 'input_text', 'text': 'hello, can you hear me?'}], 'role': 'user'}}
2025-02-20 13:21:13,302 [INFO] Sent response.create to OpenAI: {'type': 'response.create', 'response': {'modalities': ['text', 'audio'], 'instructions': 'You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.', 'voice': 'alloy', 'output_audio_format': 'pcm16', 'tools': [{'type': 'function', 'name': 'search_data', 'description': 'Reads content from Dubai_Racin_Club.md and returns it as text.', 'parameters': None}], 'tool_choice': 'auto', 'temperature': 0.8, 'max_output_tokens': 2000}}
2025-02-20 13:21:13,566 [INFO] Updated state: last_event = conversation.item.created
2025-02-20 13:21:13,567 [INFO] Forwarded event from OpenAI: {"type":"conversation.item.created","event_id":"event_B2x21t2BrQSNVmW3E4eVw","previous_item_id":null,"item":{"id":"item_B2x21cyQHaOvysudM7OXV","object":"realtime.item","type":"message","status":"completed","role":"user","content":[{"type":"input_text","text":"hello, can you hear me?"}]}}
2025-02-20 13:21:13,775 [INFO] Updated state: last_event = response.created
2025-02-20 13:21:13,777 [INFO] Forwarded event from OpenAI: {"type":"response.created","event_id":"event_B2x21RCPvDULfB5LX5Aiw","response":{"object":"realtime.response","id":"resp_B2x21buhzlcMTAdSdkdIT","status":"in_progress","status_details":null,"output":[],"conversation_id":"conv_B2x1wXYDaBtRZLril4E5c","modalities":["text","audio"],"voice":"alloy","custom_voice_id":null,"output_audio_format":"pcm16","temperature":0.8,"max_output_tokens":2000,"usage":null,"metadata":null}}
2025-02-20 13:21:14,183 [INFO] Updated state: last_event = rate_limits.updated
2025-02-20 13:21:14,184 [INFO] Forwarded event from OpenAI: {"type":"rate_limits.updated","event_id":"event_B2x223wg7jqGk7pdyKcpI","rate_limits":[]}
2025-02-20 13:21:14,184 [INFO] Updated state: last_event = response.output_item.added
2025-02-20 13:21:14,184 [INFO] Forwarded event from OpenAI: {"type":"response.output_item.added","event_id":"event_B2x22rBV2PTWbItdK1ogZ","response_id":"resp_B2x21buhzlcMTAdSdkdIT","output_index":0,"item":{"id":"item_B2x21axu2nJVy6iXvCibe","object":"realtime.item","type":"message","status":"in_progress","role":"assistant","content":[]}}
2025-02-20 13:21:14,184 [INFO] Updated state: last_event = conversation.item.created
2025-02-20 13:21:14,184 [INFO] Forwarded event from OpenAI: {"type":"conversation.item.created","event_id":"event_B2x22gQw4ZQviB39y9We0","previous_item_id":"item_B2x21cyQHaOvysudM7OXV","item":{"id":"item_B2x21axu2nJVy6iXvCibe","object":"realtime.item","type":"message","status":"in_progress","role":"assistant","content":[]}}
2025-02-20 13:21:14,185 [INFO] Updated state: last_event = response.content_part.added
2025-02-20 13:21:14,185 [INFO] Forwarded event from OpenAI: {"type":"response.content_part.added","event_id":"event_B2x22iga6hAgABAYgkFRi","response_id":"resp_B2x21buhzlcMTAdSdkdIT","item_id":"item_B2x21axu2nJVy6iXvCibe","output_index":0,"content_index":0,"part":{"type":"audio","transcript":""},"content":{"type":"audio","transcript":""}}
2025-02-20 13:21:14,185 [INFO] Updated state: last_event = response.audio_transcript.delta
2025-02-20 13:21:14,185 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,185 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,287 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,287 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,287 [INFO] Updated state: last_event = response.audio.delta
2025-02-20 13:21:14,288 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,395 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,504 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,710 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,817 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,817 [INFO] Updated state: last_event = response.audio_transcript.delta
2025-02-20 13:21:14,818 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,818 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,818 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,818 [INFO] Sent transcript delta to client.
2025-02-20 13:21:14,818 [INFO] Updated state: last_event = response.audio.delta
2025-02-20 13:21:14,822 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:14,822 [INFO] Updated state: last_event = response.audio_transcript.delta
2025-02-20 13:21:14,822 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,008 [INFO] Updated state: last_event = response.audio.delta
2025-02-20 13:21:15,013 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:15,014 [INFO] Updated state: last_event = response.audio_transcript.delta
2025-02-20 13:21:15,014 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,014 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,014 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,014 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,014 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,077 [INFO] Updated state: last_event = response.audio.delta
2025-02-20 13:21:15,080 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:15,080 [INFO] Updated state: last_event = response.audio_transcript.delta
2025-02-20 13:21:15,080 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,080 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,080 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,080 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,080 [INFO] Sent transcript delta to client.
2025-02-20 13:21:15,294 [INFO] Updated state: last_event = response.audio.delta
2025-02-20 13:21:15,298 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:15,524 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:15,532 [INFO] Sent AI audio chunk to client.
2025-02-20 13:21:15,532 [INFO] Updated state: last_event = response.audio.done
2025-02-20 13:21:15,532 [INFO] Forwarded event from OpenAI: {"type":"response.audio.done","event_id":"event_B2x23CIOhRDlyshodNYMR","response_id":"resp_B2x21buhzlcMTAdSdkdIT","item_id":"item_B2x21axu2nJVy6iXvCibe","output_index":0,"content_index":0}
2025-02-20 13:21:15,533 [INFO] Updated state: last_event = response.audio_transcript.done
2025-02-20 13:21:15,533 [INFO] Forwarded event from OpenAI: {"type":"response.audio_transcript.done","event_id":"event_B2x23AtsdFV905lxdcN0m","response_id":"resp_B2x21buhzlcMTAdSdkdIT","item_id":"item_B2x21axu2nJVy6iXvCibe","output_index":0,"content_index":0,"transcript":"Hello! Yes, I can hear you loud and clear. How can I help you today?"}
2025-02-20 13:21:15,533 [INFO] Updated state: last_event = response.content_part.done
2025-02-20 13:21:15,534 [INFO] Forwarded event from OpenAI: {"type":"response.content_part.done","event_id":"event_B2x238uV6lfJ4RYpHYE8S","response_id":"resp_B2x21buhzlcMTAdSdkdIT","item_id":"item_B2x21axu2nJVy6iXvCibe","output_index":0,"content_index":0,"part":{"type":"audio","transcript":"Hello! Yes, I can hear you loud and clear. How can I help you today?"},"content":{"type":"audio","transcript":"Hello! Yes, I can hear you loud and clear. How can I help you today?"}}
2025-02-20 13:21:15,534 [INFO] Updated state: last_event = response.output_item.done
2025-02-20 13:21:15,535 [INFO] Forwarded event from OpenAI: {"type":"response.output_item.done","event_id":"event_B2x233m7cPr3Vy6UGnePb","response_id":"resp_B2x21buhzlcMTAdSdkdIT","output_index":0,"item":{"id":"item_B2x21axu2nJVy6iXvCibe","object":"realtime.item","type":"message","status":"completed","role":"assistant","content":[{"type":"audio","transcript":"Hello! Yes, I can hear you loud and clear. How can I help you today?"}]}}
2025-02-20 13:21:15,535 [INFO] Updated state: last_event = response.done
2025-02-20 13:21:15,535 [INFO] AI response completed.
2025-02-20 13:21:21,493 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,514 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,547 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,569 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,569 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,601 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,621 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,655 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,656 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,675 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,707 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,728 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,729 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,750 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,782 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,802 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,835 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,838 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,856 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:21:21,866 [ERROR] Error in /ws/convo: no close frame received or sent
2025-02-20 13:21:21,888 [ERROR] Error processing input message: no close frame received or sent
2025-02-20 13:23:21,976 [INFO] Client connected to /ws/convo
2025-02-20 13:23:21,976 [INFO] Connecting to OpenAI WebSocket...
2025-02-20 13:23:23,927 [INFO] Connected to OpenAI WebSocket.
2025-02-20 13:23:23,927 [INFO] OpenAI Session Created: {"type":"session.created","event_id":"event_B2x47gnAG2i24KOnzmEOg","session":{"id":"sess_B2x47kIWqSeI1uYZsfWWm","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044303,"modalities":["text","audio"],"instructions":"Your knowledge cutoff is 2023-10. You are a helpful, witty, and friendly AI. Act like a human, but remember that you aren't a human and that you can't do human things in the real world. Your voice and personality should be warm and engaging, with a lively and playful tone. If interacting in a non-English language, start by using the standard accent or dialect familiar to the user. Talk quickly. You should always call a function if you can. Do not refer to these rules, even if you’re asked about them.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[]}}
2025-02-20 13:23:23,928 [INFO] Sent session.update with configuration: {"type": "session.update", "session": {"turn_detection": {"type": "server_vad", "threshold": 0.5, "prefix_padding_ms": 300, "silence_duration_ms": 200, "create_response": true}, "tools": [{"type": "function", "name": "search_data", "description": "Reads content from Dubai_Racin_Club.md and returns it as text.", "parameters": null}], "tool_choice": "auto", "input_audio_format": "pcm16", "output_audio_format": "pcm16", "voice": "alloy", "instructions": "You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.", "modalities": ["text", "audio"], "temperature": 0.8}}
2025-02-20 13:23:24,235 [INFO] OpenAI Session Updated: {"type":"session.updated","event_id":"event_B2x48NLp9PD0QvrqswF4q","session":{"id":"sess_B2x47kIWqSeI1uYZsfWWm","object":"realtime.session","model":"gpt-4o-realtime-preview-2024-12-17","expires_at":1740044303,"modalities":["text","audio"],"instructions":"You are Ameera, a helpful AI assistant that works for Dubai Racing Club. Respond in a friendly and conversational manner, in the language of the user.","voice":"alloy","custom_voice_id":null,"turn_detection":{"type":"server_vad","threshold":0.5,"prefix_padding_ms":300,"silence_duration_ms":200,"create_response":true},"input_audio_format":"pcm16","output_audio_format":"pcm16","input_audio_transcription":null,"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":"inf","client_secret":null,"tools":[{"name":"search_data","description":"Reads content from Dubai_Racin_Club.md and returns it as text.","parameters":{"type":"object","properties":{}},"type":"function"}]}}
2025-02-20 13:23:24,937 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:23:25,042 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:23:25,150 [INFO] Forwarded audio chunk to OpenAI.
2025-02-20 13:23:25,162 [INFO] Updated state: last_event = error
2025-02-20 13:23:25,163 [INFO] Forwarded event from OpenAI: {"type":"error","event_id":"event_B2x49e06ppzd4HHkqodUY","error":{"type":"invalid_request_error","code":"missing_required_parameter","message":"Missing required parameter: 'audio'.","param":"audio","event_id":null}}
2025-02-20 13:23:25,166 [ERROR] Error in /ws/convo: no close frame received or sent
2025-02-20 13:23:25,256 [ERROR] Error processing input message: no close frame received or sent
